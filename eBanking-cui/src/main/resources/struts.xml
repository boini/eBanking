<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

    <constant name="struts.objectFactory" value="spring"/>
    <constant name="struts.devMode" value="true"/>

    <package name="default" namespace="/" extends="struts-default,json-default">
        <result-types>
            <result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult"/>
        </result-types>

        <action name="login" class="LoginForwardAction">
            <result name="success">/jsp/login.jsp</result>
        </action>

        <!-- Main page -->

        <action name="main" class="SessionRecreationForwardAction">
            <result name="success" type="redirectAction">
                <param name="actionName">nbrbCurrency</param>
            </result>
        </action>

        <action name="nbrbCurrency" class="NBRBCurrencyAction">
            <result name="success" type="redirectAction">
                <param name="actionName">clientCards</param>
            </result>
        </action>

        <action name="clientCards" class="ClientCardsAction">
            <result name="success" type="redirectAction">
                <param name="actionName">fetchClientAccount</param>
            </result>
        </action>

        <action name="fetchClientAccount" class="FetchClientAccountAction">
            <result name="success" type="redirectAction">
                <param name="actionName">mainPageForward</param>
            </result>
        </action>

        <action name="mainPageForward" class="MainPageForwardAction">
            <result name="success" type="tiles">/main.tiles</result>
        </action>

        <!-- Online info -->

        <action name="onlineInfo" class="ClientCardsAction">
            <result name="success" type="redirectAction">
                /onlineInfoForward
            </result>
        </action>

        <action name="onlineInfoForward" class="OnlineInfoForwardAction">
            <result name="success" type="tiles">/online.tiles</result>
        </action>


        <action name="cardOperationHistory" method="getJson" class="CardOperationHistoryAction">
            <result name="success" type="json"/>
        </action>

        <!-- Card cardAccount info -->

        <action name="cardAccountInfo" class="ClientCardsAction">
            <result name="success" type="redirectAction">
                /cardAccountInfoForward
            </result>
        </action>

        <action name="cardAccountInfoForward" class="CardAccountInfoForwardAction">
            <result name="success" type="tiles">/cardAccountInfo.tiles</result>
        </action>


        <action name="cardAccountHistory" method="getJson" class="CardAccountHistoryAction">
            <result name="success" type="json"/>
        </action>

        <!-- Payment -->

        <action name="payment" class="PaymentActionForward">
            <result name="success" type="tiles">/payment.tiles</result>
        </action>


        <!-- Mobile payment -->

        <action name="mobilePayment" class="CommunicationsPaymentAction">
            <result name="success" type="redirectAction">
                <param name="actionName">mobilePaymentForward</param>
            </result>
        </action>

        <action name="mobilePaymentForward" class="CommunicationsPaymentForwardAction">
            <result name="success" type="tiles">/mobileNumber.tiles</result>
        </action>

        <action name="mobilePaymentAmount" class="CommunicationsPaymentAmountForwardAction">
            <result name="success" type="tiles">/mobileAmount.tiles</result>
        </action>

        <action name="mobilePaymentReview" class="CommunicationsPaymentReviewForwardAction">
            <result name="success" type="tiles">/mobilePaymentReview.tiles</result>
        </action>
        
        <action name="mobilePaymentSubmit" class="CommunicationsPaymentSubmitAction">
            <result name="success" type="tiles">/mobilePaymentSubmit.tiles</result>
        </action>


        <!-- Internet payment -->

        <action name="internetPayment" class="CommunicationsPaymentAction">
            <result name="success" type="redirectAction">
                <param name="actionName">internetPaymentForward</param>
            </result>
        </action>

        <action name="internetPaymentForward" class="CommunicationsPaymentForwardAction">
            <result name="success" type="tiles">/internetNumber.tiles</result>
        </action>

        <action name="internetPaymentAmount" class="CommunicationsPaymentAmountForwardAction">
            <result name="success" type="tiles">/internetAmount.tiles</result>
        </action>

        <action name="internetPaymentReview" class="CommunicationsPaymentReviewForwardAction">
            <result name="success" type="tiles">/internetPaymentReview.tiles</result>
        </action>

        <action name="internetPaymentSubmit" class="CommunicationsPaymentSubmitAction">
            <result name="success" type="tiles">/internetPaymentSubmit.tiles</result>
        </action>

    </package>

</struts>